server:
  port: 8080
spring:
  application:
    name: start
  profiles:
    active: ${spring.profile:dev}
  servlet:
    multipart:
      max-file-size: 256MB
      max-request-size: 256MB
  main:
    allow-bean-definition-overriding: true
  jackson:
    default-property-inclusion: non_null
    serialization:
      WRITE_DATES_AS_TIMESTAMPS: true
  datasource:
    type: com.zaxxer.hikari.HikariDataSource
    driver-class-name: com.mysql.cj.jdbc.Driver
    hikari:
      auto-commit: true
      minimum-idle: 5
      maximum-pool-size: 20
      connection-timeout: 20000
      idle-timeout: 300000
      max-lifetime: 900000
      connection-test-query: select 1 from dual
      pool-name: HikariPool
      data-source-properties:
        cachePrepStmts: true
        prepStmtCacheSize: 250
        prepStmtCacheSqlLimit: 2048
        useServerPrepStmts: true
        useLocalSessionState: true
        rewriteBatchedStatements: true
        cacheResultSetMetadata: true
        cacheServerConfiguration: true
        elideSetAutoCommits: true
        maintainTimeStats: false
  redis:
    timeout: 3000
    jedis:
      pool:
        max-active: 16
        max-idle: 16
        min-idle: 0
        max-wait: -1ms
  cloud:
    nacos:
      config:
        file-extension: yaml
        server-addr: ${nacos.addr:127.0.0.1:8848}
        username: ${nacos.username:nacos}
        password: ${nacos.password:nacos}
        # 使用自定义空间时需要使用MD5的ID
        namespace: ${nacos.namespace:public}
        group: ${spring.application.name:DEFAULT_GROUP}
        max-retry: 3
        config-long-poll-timeout: 10000
        extension-configs:
          - data-id: dynamic.yaml
            group: start
            refresh: true
          - data-id: mysql.yaml
            group: start
            refresh: false
          - data-id: common.yaml
            group: common
            refresh: true
logging:
  config: classpath:logback-spring.xml
